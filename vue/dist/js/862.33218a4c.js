"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[862],{6862:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticStyle:{width:"400px",padding:"30px","background-color":"white","border-radius":"5px",opacity:"0.9"}},[t("div",{staticStyle:{"text-align":"center","font-size":"20px","margin-bottom":"20px",color:"#333"}},[e._v("欢迎注册")]),t("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{prop:"confirmPass"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请确认密码","show-password":""},model:{value:e.form.confirmPass,callback:function(t){e.$set(e.form,"confirmPass",t)},expression:"form.confirmPass"}})],1),t("el-form-item",{attrs:{prop:"roleName"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}},[t("el-option",{attrs:{label:"教师",value:"TEACHER"}}),t("el-option",{attrs:{label:"系主任",value:"MANAGER"}}),t("el-option",{attrs:{label:"教务处",value:"DEANSOFFICE"}})],1)],1),"MANAGER"===e.form.roleName?t("el-form-item",{attrs:{prop:"departmentName"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择系别"},nativeOn:{click:function(t){return e.selectDepartment.apply(null,arguments)}},model:{value:e.form.departmentName,callback:function(t){e.$set(e.form,"departmentName",t)},expression:"form.departmentName"}},e._l(e.departmentList,(function(e){return t("el-option",{key:e.departmentName,attrs:{label:e.departmentName,value:e.departmentName}})})),1)],1):e._e(),t("el-form-item",[t("el-button",{staticStyle:{width:"100%","background-color":"#333","border-color":"#333",color:"white"},on:{click:e.register}},[e._v("注 册")])],1),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"1"}}),t("div",{staticStyle:{flex:"1","text-align":"right"}},[e._v(" 已有账号？请 "),t("a",{attrs:{href:"/login"}},[e._v("登录")])])])],1)],1)])},s=[],o=(r(7658),{name:"Register",data(){const e=(e,t,r)=>{""===t?r(new Error("请确认密码")):t!==this.form.password?r(new Error("两次输入的密码不一致")):r()};return{departmentList:[],form:{},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPass:[{validator:e,trigger:"blur"}],roleName:[{required:!0,message:"请选择角色",trigger:"blur"}],departmentName:[{required:!0,message:"请选择系别",trigger:"blur"}],departmentId:[]}}},created(){},methods:{register(){this.$refs["formRef"].validate((e=>{e&&this.$request.post("/register",this.form).then((e=>{"200"===e.code?(this.$router.push("/"),this.$message.success("注册成功")):this.$message.error(e.msg)}))}))},selectDepartment(){this.$request.get("/department/selectAll").then((e=>{this.departmentList=e.data}))}}}),l=o,i=r(3736),n=(0,i.Z)(l,a,s,!1,null,"5fe7ff36",null),m=n.exports}}]);
//# sourceMappingURL=862.33218a4c.js.map