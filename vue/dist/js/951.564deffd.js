"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[951],{5951:function(e,t,r){r.r(t),r.d(t,{default:function(){return n}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticStyle:{width:"400px",padding:"30px","background-color":"white","border-radius":"5px",opacity:"0.9"}},[t("div",{staticStyle:{"text-align":"center","font-size":"20px","margin-bottom":"10px",color:"#333"}},[e._v("光华教材征订系统")]),t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"账号密码登录",name:"username"}},[t("el-form",{ref:"usernameformRef",attrs:{model:e.usernameForm,rules:e.usernameRules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入账号"},model:{value:e.usernameForm.username,callback:function(t){e.$set(e.usernameForm,"username",t)},expression:"usernameForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},model:{value:e.usernameForm.password,callback:function(t){e.$set(e.usernameForm,"password",t)},expression:"usernameForm.password"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%","background-color":"#333","border-color":"#333",color:"white"},on:{click:e.login}},[e._v("登 录")])],1),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"1"}}),t("div",{staticStyle:{flex:"1","text-align":"right"}},[e._v(" 还没有账号？请 "),t("a",{attrs:{href:"/register"}},[e._v("注册")])])])],1)],1),t("el-tab-pane",{attrs:{label:"邮箱登录",name:"email"}},[t("el-form",{ref:"emailformRef",attrs:{model:e.emailForm,rules:e.emailRules}},[t("el-form-item",{attrs:{prop:"email"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-message",placeholder:"请输入邮箱"},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{staticStyle:{width:"190px"},attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入验证码","show-password":""},model:{value:e.emailForm.code,callback:function(t){e.$set(e.emailForm,"code",t)},expression:"emailForm.code"}}),t("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.sendEmailCode()}}},[e._v("获取验证码")])],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%","background-color":"#333","border-color":"#333",color:"white"},on:{click:e.login}},[e._v("登 录")])],1),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"1"}}),t("div",{staticStyle:{flex:"1","text-align":"right"}},[e._v(" 还没有账号？请 "),t("a",{attrs:{href:"/register"}},[e._v("注册")])])])],1)],1)],1)],1)])},s=[],i=(r(7658),{name:"Login",data(){return{activeName:"username",usernameForm:{},emailForm:{},usernameRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},emailRules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^\w+((.\w+)|(-\w+))@[A-Za-z0-9]+((.|-)[A-Za-z0-9]+).[A-Za-z0-9]+$/,message:"邮箱格式不正确",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created(){},methods:{login(){let e="",t={},r="";"username"===this.activeName?(e="usernameformRef",t=this.usernameForm,r="/login"):"email"===this.activeName&&(e="emailformRef",t=this.emailForm,r="/loginEmail"),this.$refs[e].validate((e=>{e&&this.$request.post(r,t).then((e=>{"200"===e.code?(localStorage.setItem("xm-user",JSON.stringify(e.data)),this.$router.push("/"),this.$message.success("登录成功")):this.$message.error(e.msg)}))}))},changeLoginMethod(){this.activenName="email"},sendEmailCode(){this.$request.post("/email/"+this.emailForm.email).then((e=>{"200"===e.code?this.$message.success("发送成功"):this.$message.error(e.msg)}))}}}),l=i,o=r(3736),m=(0,o.Z)(l,a,s,!1,null,"de1579a2",null),n=m.exports}}]);
//# sourceMappingURL=951.564deffd.js.map